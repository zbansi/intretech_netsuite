/**
 * dao_eai.js
 * 
 * @NApiversion 2.x
 * @NModuleScope Public
 */

define([ 'N/record', 'N/search' ], function(record, search) {

	function getSearchResultSet(recordType, filterList, columnList) {
		var pagedData = search.create({
			type : recordType,
			filters : filterList,
			columns : columnList
		}).runPaged();
		var resultSet = [];
		pagedData.pageRanges.forEach(function(pageRange) {
			var page = pagedData.fetch({
				index : pageRange.index
			});
			page.data.forEach(function(result) {
				resultSet.push(result);
			});
		});
		return resultSet;
	}
	return {
		getSearchResultSet : getSearchResultSet
	};

	function deleteRecords(recordType, recordIdList) {
		var deleteRecordIdList =[];
		recordIdList.forEach(function(recordId) {			
			deleteRecordIdList.push(record.delete({
			type: record.Type.BOM,
			id: recordId
			}));
		});
		return deleteRecordIdList;
	}
	
	return {
		getSearchResultSet : getSearchResultSet,
		'deleteRecords' : deleteRecords
	};

});