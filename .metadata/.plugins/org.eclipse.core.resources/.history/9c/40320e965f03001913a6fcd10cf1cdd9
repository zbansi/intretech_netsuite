/**
 * @NApiVersion 2.x
 * @NScriptType Suitelet
 * @author YQ12681
 */
define(
		[ 'N/record', 'N/render' ],
		function(record, render) {
			function onRequest(params) {
				//解析url参数 maoid
				var maoId = params.request.parameters.maoid;

				//加载领料申请记录
				var rec = record.load({
					type : 'customrecord_yq_material_apply_bansi',
					id : maoId
				});
				var maoNumber = rec.getText('name');

				//xml定义打印模板
				var xmlStr = '';
				str += '<?xml version="1.0"?><!DOCTYPE pdf PUBLIC "-//big.faceless.org//report" "report-1.1.dtd"><pdf><head>';
				str += '</head>';
				str += '<body padding="0.5in 0.5in 0.5in 0.5in" size="Letter">';
				str += '<table style="width: 100%; font-size: 10pt;"><tr>';
				str += '<td>' + maoNumber + '</td></tr>';
				str += '</table></body>';
				str += '</pdf>'

				//xml转成pdf文件
				var pdfFile = render.xmlToPdf({
					xmlString : xmlStr
				});
				
				//输出文件
				params.response.writeFile(pdfFile);

			}

			return {
				onRequest : onRequest
			};
		});