package com.bansi.webservices.samples;

import static com.netsuite.suitetalk.client.common.Constants.DEFAULT_HTTP_SOCKET_TIMEOUT;
import static com.netsuite.suitetalk.client.common.Constants.HTTP_PROTOCOL;
import static com.netsuite.suitetalk.client.common.Constants.NETSUITE_PORT_PREFIX;
import static com.netsuite.suitetalk.client.common.Constants.SERVICES_PATH;
import static com.netsuite.suitetalk.client.v2017_2.utils.Utils.getInternalId;

import java.net.MalformedURLException;
import java.net.URL;
import java.rmi.RemoteException;

import javax.xml.rpc.ServiceException;

import org.apache.axis.SimpleTargetedChain;
import org.apache.axis.client.Stub;
import org.apache.axis.configuration.SimpleProvider;
import org.apache.axis.transport.http.CommonsHTTPSender;

import com.netsuite.suitetalk.client.common.EndpointVersion;
import com.netsuite.suitetalk.client.common.authentication.OAuthPassport;
import com.netsuite.suitetalk.client.common.utils.CommonUtils;
import com.netsuite.suitetalk.client.v2017_2.WsClient;
import com.netsuite.suitetalk.client.v2017_2.WsCoreClient.RequestHandler;
import com.netsuite.suitetalk.client.v2017_2.WsCoreClient.ResponseHandler;
import com.netsuite.suitetalk.proxy.v2017_2.platform.NetSuiteServiceLocator;
import com.netsuite.webservices.platform_2019_1.NetSuitePortType;
import com.netsuite.webservices.platform.core_2019_1.Record;
import com.netsuite.webservices.platform.messages_2019_1.WriteResponse;

public class WsClient_2019_1 extends WsClient {
	private final NetSuitePortType port;
	
	
	
	public WsClient_2019_1(OAuthPassport oAuthPassport, URL url) {
		super(oAuthPassport, url);
		// TODO Auto-generated constructor stub
	}

	public String addRecord(Record record) throws RemoteException {
		WriteResponse writeResponse = callAddRecord(record);
		if (writeResponse.getStatus().isIsSuccess()) {
			return getInternalId(writeResponse.getBaseRef());
		}
		return null;
	}
	
	public synchronized WriteResponse callAddRecord(Record record) throws RemoteException {
        return port.add(record);
    }

}
